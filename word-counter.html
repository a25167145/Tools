<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…è²»ç·šä¸Šå­—æ•¸çµ±è¨ˆ | ç²¾ç¢ºè¨ˆç®—ç´”æ–‡å­—ã€å­—å…ƒèˆ‡è¡Œæ•¸</title>
    <style>
        /* CSS æ¨£å¼èˆ‡ä¹‹å‰ç›¸åŒï¼Œä¿æŒä¸è®Š */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f8f9fa;
            color: #212529;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
        }
        .container {
            width: 90%;
            max-width: 800px;
            background-color: #ffffff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-top: 0;
        }
        textarea {
            width: 100%;
            height: 300px;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-size: 16px;
            line-height: 1.5;
            box-sizing: border-box; 
            resize: vertical;
        }
        .results {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding: 15px;
            background-color: #e9ecef;
            border-radius: 5px;
        }
        .stat {
            text-align: center;
            /* è®“æ¬„ä½å¯¬åº¦æ›´å¹³å‡ */
            flex-basis: 33.3%;
            padding: 0 5px;
        }
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #007bff;
        }
        .stat-label {
            font-size: 14px;
            color: #495057;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ğŸš€ ç·šä¸Šå­—æ•¸çµ±è¨ˆå·¥å…·</h1>
        <p style="text-align: center; color: #555;">åœ¨ä¸‹æ–¹æ¬„ä½è²¼ä¸Šæ‚¨çš„æ–‡å­—ï¼Œç³»çµ±å°‡è‡ªå‹•å³æ™‚è¨ˆç®—ã€‚</p>
        
        <textarea id="textInput" placeholder="åœ¨é€™è£¡è¼¸å…¥æˆ–è²¼ä¸Šæ‚¨çš„æ–‡å­—...
"></textarea>
        
        <div class="results">
            <div class="stat">
                <span id="charCount" class="stat-value">0</span>
                <div class="stat-label">ç¸½å­—å…ƒ (å«ç©ºç™½)</div>
            </div>
            <div class="stat">
                <span id="pureWordCount" class="stat-value">0</span>
                <div class="stat-label">ç´”æ–‡å­— (ä¸å«ç¬¦è™Ÿ/æ•¸å­—)</div>
            </div>
            <div class="stat">
                <span id="lineCount" class="stat-value">0</span>
                <div class="stat-label">è¡Œæ•¸</div>
            </div>
        </div>
    </div>

    <script>
        // å–å¾—æˆ‘å€‘è¦æ“ä½œçš„ HTML å…ƒç´ 
        const textInput = document.getElementById('textInput');
        const charCountEl = document.getElementById('charCount');
        const pureWordCountEl = document.getElementById('pureWordCount'); // æ›´æ”¹äº† ID åç¨±
        const lineCountEl = document.getElementById('lineCount');

        textInput.addEventListener('input', () => {
            const text = textInput.value;

            // 1. è¨ˆç®—ç¸½å­—å…ƒæ•¸ (å«ç©ºç™½) - é‚è¼¯ä¸è®Š
            const charCount = text.length;
            charCountEl.innerText = charCount;

            // ----------------------------------------------------
            // â­ï¸ JavaScript ä¿®æ­£é» (v3)ï¼š
            // ----------------------------------------------------
            // 2. è¨ˆç®—ç´”æ–‡å­—æ•¸ (ä¸å«ç©ºç™½ã€æ¨™é»ã€æ•¸å­—ç­‰)
            //    ä½¿ç”¨ /[^\p{L}]/gu
            //    [^...]  ä»£è¡¨ã€Œéã€
            //    \p{L}   ä»£è¡¨ã€Œä»»ä½• Unicode å­—æ¯ã€(Letter)
            //    g       ä»£è¡¨ "global" (å…¨åŸŸ)
            //    u       ä»£è¡¨ "unicode" (å¿…é ˆåŠ ï¼Œ\p{L} æ‰èƒ½é‹ä½œ)
            //
            //    é€™è¡Œç¨‹å¼ç¢¼çš„æ„æ€æ˜¯ï¼šã€Œç§»é™¤æ‰€æœ‰ä¸æ˜¯å­—æ¯çš„å­—å…ƒã€ï¼Œç„¶å¾Œè¨ˆç®—é•·åº¦ã€‚
            const pureCharCount = text.replace(/[^\p{L}]/gu, '').length;
            pureWordCountEl.innerText = pureCharCount;
            // ----------------------------------------------------

            // 3. è¨ˆç®—è¡Œæ•¸ - é‚è¼¯ä¸è®Š
            let lineCount = 0;
            if (text === "") {
                lineCount = 0;
            } else {
                lineCount = text.split('\n').length;
            }
            lineCountEl.innerText = lineCount;
        });
    </script>

</body>
</html>